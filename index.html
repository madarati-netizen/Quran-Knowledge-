<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Qur'an Lernplan</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f2f6f4;
    padding: 20px;
}

h1 {
    text-align: center;
    color: #1b5e20;
}

.islam {
    text-align: center;
    font-size: 30px;
    margin-bottom: 10px;
}

.container {
    max-width: 800px;
    margin: auto;
    background: white;
    padding: 20px;
    border-radius: 10px;
}

label {
    font-weight: bold;
    margin-top: 10px;
    display: block;
}

input, textarea, select, button {
    width: 100%;
    padding: 8px;
    margin-top: 5px;
}

button {
    background: #1b5e20;
    color: white;
    border: none;
    margin-top: 15px;
    cursor: pointer;
}

button:hover {
    background: #2e7d32;
}

.alarm-box {
    background: #e8f5e9;
    padding: 15px;
    margin-top: 20px;
    border-radius: 10px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
}

th, td {
    border: 1px solid #ccc;
    padding: 8px;
    text-align: center;
}

th {
    background: #e8f5e9;
}
</style>
</head>

<body>

<div class="islam">‚ò™Ô∏è üìñ üïå</div>
<h1>Qur'an Lernplan</h1>

<div class="container">

<label>Name</label>
<input id="name" placeholder="Dein Name">

<label>Monat</label>
<select id="monat">
<option>Januar</option><option>Februar</option><option>M√§rz</option>
<option>April</option><option>Mai</option><option>Juni</option>
<option>Juli</option><option>August</option><option>September</option>
<option>Oktober</option><option>November</option><option>Dezember</option>
</select>

<label>Hifz (Neues Auswendiglernen)</label>
<textarea id="hifz"></textarea>

<label>MurƒÅja øa (Wiederholung)</label>
<textarea id="muraja"></textarea>

<button onclick="speichern()">Speichern</button>

<!-- Alarm -->
<div class="alarm-box">
<h3>‚è∞ Lern-Erinnerung</h3>
<label>Uhrzeit</label>
<input type="time" id="alarmZeit">
<button onclick="alarmStart()">Alarm aktivieren</button>
</div>

<table>
<thead>
<tr>
<th>Name</th>
<th>Monat</th>
<th>Hifz</th>
<th>MurƒÅja øa</th>
</tr>
</thead>
<tbody id="tabelle"></tbody>
</table>

</div>

<audio id="alarmTon">
  <source src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" type="audio/ogg">
</audio>

<script>
let alarmAktiv = false;

function speichern() {
    const name = document.getElementById("name").value.trim();
    const monat = document.getElementById("monat").value;
    const hifz = document.getElementById("hifz").value.trim();
    const muraja = document.getElementById("muraja").value.trim();

    if (!name || !hifz || !muraja) {
        alert("Bitte alle Felder ausf√ºllen");
        return;
    }

    const daten = { name, monat, hifz, muraja };
    let liste = JSON.parse(localStorage.getItem("lernplan")) || [];
    liste.push(daten);
    localStorage.setItem("lernplan", JSON.stringify(liste));

    anzeigen();

    document.getElementById("name").value = "";
    document.getElementById("hifz").value = "";
    document.getElementById("muraja").value = "";
}

function anzeigen() {
    const tbody = document.getElementById("tabelle");
    tbody.innerHTML = "";

    let liste = JSON.parse(localStorage.getItem("lernplan")) || [];

    liste.forEach(e => {
        const zeile = document.createElement("tr");
        zeile.innerHTML = `
            <td>${e.name}</td>
            <td>${e.monat}</td>
            <td>${e.hifz}</td>
            <td>${e.muraja}</td>
        `;
        tbody.appendChild(zeile);
    });
}

anzeigen();

function alarmStart() {
    if (alarmAktiv) {
        alert("Alarm ist bereits aktiv");
        return;
    }

    const zeit = document.getElementById("alarmZeit").value;
    if (!zeit) {
        alert("Bitte Uhrzeit ausw√§hlen");
        return;
    }

    alarmAktiv = true;
    const [h, m] = zeit.split(":");

    alert("‚è∞ Alarm aktiviert");

    setInterval(() => {
        const jetzt = new Date();
        if (
            jetzt.getHours() == h &&
            jetzt.getMinutes() == m &&
            jetzt.getSeconds() == 0
        ) {
            document.getElementById("alarmTon").play();
            alert("üìñ Zeit f√ºr Qur'an Lernen ‚ò™Ô∏è");
        }
    }, 1000);
}
</script>

</body>
</html>
